"use strict";(self["webpackChunkstudent"]=self["webpackChunkstudent"]||[]).push([[4069],{4069:(t,e,o)=>{o.r(e),o.d(e,{default:()=>W});var i=o(3673);const a=(0,i.Uk)(" No results ");function s(t,e,o,s,l,d){const r=(0,i.up)("q-input"),c=(0,i.up)("q-item-section"),p=(0,i.up)("q-item"),n=(0,i.up)("q-select"),u=(0,i.up)("q-form"),m=(0,i.up)("q-separator"),f=(0,i.up)("q-btn"),h=(0,i.up)("q-card-actions"),w=(0,i.up)("q-card"),b=(0,i.up)("q-dialog"),g=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(b,{ref:"EditDialogRef",modelValue:o.show,"onUpdate:modelValue":e[3]||(e[3]=t=>o.show=t),onHide:d.dialogHid},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"my-card q-pa-lg"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{onReset:d.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:l.form.title,"onUpdate:modelValue":e[0]||(e[0]=t=>l.form.title=t),label:"Title *",autofocus:""},null,8,["modelValue"]),(0,i.Wm)(n,{label:"Topic",modelValue:l.form.topic,"onUpdate:modelValue":e[1]||(e[1]=t=>l.form.topic=t),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:l.filtered,onFilter:d.filterFn},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-grey"},{default:(0,i.w5)((()=>[a])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])),_:1},8,["onReset"]),(0,i.Wm)(m),(0,i.Wm)(h,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{type:"submit",color:"primary",label:"Submit",onClick:e[2]||(e[2]=t=>"create"==o.formAction?d.create():d.update())}),(0,i.wy)((0,i.Wm)(f,{flat:"",color:"primary",label:"Cancel"},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}o(52);var l=o(3617);o(4434);const d={props:["show","datum","formAction","model"],methods:{dialogHid(){this.$store.commit("config/dialogShow",{dialogShow:!1})},async create(){await this.$store.dispatch(`${this.model}/create`,{new:this.form})},async update(){await this.$store.dispatch(`${this.model}/update`,{id:this.datum.id,new:this.form})},async fetchTopics(){await this.$store.dispatch("topics/topics")},onReset(){Object.keys(this.form).forEach((t=>{this.form[t]=""}))},fillForm(){Object.keys(this.form).forEach((t=>{this.form[t]=this.datum[t]})),this.form["topic"]={label:this.datum["topic"],value:this.datum["topic_id"]}},filterFn(t,e,o){e((()=>{this.filtered=this.topicsOptions.filter((e=>e.label.toLowerCase().indexOf(t.toLowerCase())>-1))}))}},async created(){await this.fetchTopics()},updated(){this.show&&this.fillForm()},data(){return{filtered:[],form:{title:"",code:"",topic:""}}},computed:{...(0,l.Se)({topicsOptions:"topics/topicsOptions"})}};var r=o(4260),c=o(6778),p=o(151),n=o(5269),u=o(4842),m=o(3314),f=o(3414),h=o(2035),w=o(5869),b=o(9367),g=o(8240),q=o(677),y=o(7518),Z=o.n(y);const Q=(0,r.Z)(d,[["render",s],["__scopeId","data-v-55424307"]]),W=Q;Z()(d,"components",{QDialog:c.Z,QCard:p.Z,QForm:n.Z,QInput:u.Z,QSelect:m.Z,QItem:f.Z,QItemSection:h.Z,QSeparator:w.Z,QCardActions:b.Z,QBtn:g.Z}),Z()(d,"directives",{ClosePopup:q.Z})}}]);