"use strict";(self["webpackChunkstudent"]=self["webpackChunkstudent"]||[]).push([[467],{467:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});s(7070);var i=s(3673),l=s(2323),a=s(8880);const o=(0,i.Uk)("No results"),n=(0,i.Uk)("No results"),r=(0,i.Uk)("No results"),c=(0,i.Uk)("Reverse"),d=(0,i.Uk)("ALL");function h(e,t,s,h,u,p){const m=(0,i.up)("q-item-section"),f=(0,i.up)("q-item"),g=(0,i.up)("q-select"),w=(0,i.up)("card-section"),v=(0,i.up)("Flashcard"),b=(0,i.up)("MCQ"),k=(0,i.up)("q-pagination"),q=(0,i.up)("q-tooltip"),_=(0,i.up)("q-btn"),y=(0,i.up)("q-card-actions"),C=(0,i.up)("q-circular-progress"),x=(0,i.up)("q-card"),F=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(F,{class:"q-pa-sm bg-grey-10",dark:""},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"flashcards-container",style:(0,l.j5)(p.flashcard_container_style)},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"row",style:{margin:"20px 30px 40px 30px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"col-md-4",dark:"",disable:!(e.topicsOptions.length>0),label:"Topic",modelValue:u.form.topic,"onUpdate:modelValue":t[0]||(t[0]=e=>u.form.topic=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:u.filteredTopics,onFilter:p.filterFnTopics},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"text-grey"},{default:(0,i.w5)((()=>[o])),_:1})])),_:1})])),_:1},8,["disable","modelValue","options","onFilter"]),(0,i.Wm)(g,{class:"col-md-4",dark:"",disable:!u.form.topic.value||!u.chaptersOptions.length,label:"Chapter",modelValue:u.form.chapter,"onUpdate:modelValue":t[1]||(t[1]=e=>u.form.chapter=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:u.filteredChapters,onFilter:p.filterFnChapters},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"text-grey"},{default:(0,i.w5)((()=>[n])),_:1})])),_:1})])),_:1},8,["disable","modelValue","options","onFilter"]),(0,i.Wm)(g,{class:"col-md-4",dark:"",label:"Mode",modelValue:u.form.mode,"onUpdate:modelValue":t[2]||(t[2]=e=>u.form.mode=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:u.modes},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"text-grey"},{default:(0,i.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["modelValue","options"])])),_:1}),"Flashcard"==u.form.mode?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(p.paginatedData,(e=>((0,i.wg)(),(0,i.j4)(v,{levels:p.levels.slice(0,3),activeLevel:u.activeLevel,onFlashAnswered:p.goNext,reversed:u.reversed,key:e.id,definition:e,fontSize:u.fontSize},null,8,["levels","activeLevel","onFlashAnswered","reversed","definition","fontSize"])))),128)):(0,i.kq)("",!0),"MCQ"==u.form.mode?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(p.paginatedData,(e=>((0,i.wg)(),(0,i.j4)(b,{key:e.id,definition:e,onAnswered:p.mcqAnswered,mcqSelectedAnswers:u.mcqSelectedAnswers},null,8,["definition","onAnswered","mcqSelectedAnswers"])))),128)):(0,i.kq)("",!0),p.currentDefinitions.length?((0,i.wg)(),(0,i.j4)(y,{key:2,align:"center"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{modelValue:u.currentPage,"onUpdate:modelValue":t[3]||(t[3]=e=>u.currentPage=e),min:u.minPage,max:p.maxPage,input:!0,"input-class":"text-amber"},null,8,["modelValue","min","max"]),"Flashcard"==u.form.mode?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(_,{onClick:t[4]||(t[4]=(0,a.iM)((e=>p.reverse()),["stop"])),flat:"",round:"",icon:"cached",class:"q-px-sm q-ml-lg"},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{disable:e.$q.platform.is.mobile,class:"bg-amber text-black shadow-4"},{default:(0,i.w5)((()=>[c])),_:1},8,["disable"])])),_:1}),(0,i.Wm)(_,{onClick:t[5]||(t[5]=(0,a.iM)((e=>p.changeFontSize("++")),["stop"])),flat:"",round:"",icon:"add",class:"q-px-sm q-ml-lg"}),(0,i.Wm)(_,{onClick:t[6]||(t[6]=(0,a.iM)((e=>p.changeFontSize("--")),["stop"])),flat:"",round:"",icon:"remove",class:"q-px-sm q-ml-lg"})],64)):(0,i.kq)("",!0),(0,i.Wm)(_,{flat:"",round:"",dense:"",icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",onClick:(0,a.iM)(h.toggleFullscreen,["stop"]),class:"q-px-sm q-ml-lg"},{default:(0,i.w5)((()=>[(0,i.Wm)(q,{disable:e.$q.platform.is.mobile,class:"bg-amber text-black shadow-4"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.$q.fullscreen.isActive?"Exit Fullscreen":"Fullscreen"),1)])),_:1},8,["disable"])])),_:1},8,["icon","onClick"])])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(y,{align:"center"},{default:(0,i.w5)((()=>["Flashcard"==u.form.mode?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(p.levels,(t=>((0,i.wg)(),(0,i.j4)(_,{key:t.title,class:"level-btn",onClick:(0,a.iM)((e=>p.view(t.title)),["stop"]),flat:"",round:"",color:t.color,style:(0,l.j5)(u.activeLevel==t.title?"background:#444;":"")},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(t.length),1),(0,i.Wm)(q,{disable:e.$q.platform.is.mobile,class:(0,l.C_)(`bg-${t.color} text-black shadow-4`)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(t.title.toUpperCase()),1)])),_:2},1032,["disable","class"])])),_:2},1032,["onClick","color","style"])))),128)):(0,i.kq)("",!0),"MCQ"==u.form.mode?((0,i.wg)(),(0,i.j4)(_,{key:1,class:"level-btn",onClick:t[7]||(t[7]=(0,a.iM)((e=>p.view("all")),["stop"])),flat:"",round:"",color:"white",style:(0,l.j5)("all"==u.activeLevel?"background:#444;":"")},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(p.all.length),1),(0,i.Wm)(q,{disable:e.$q.platform.is.mobile,class:"bg-white text-black shadow-4"},{default:(0,i.w5)((()=>[d])),_:1},8,["disable"])])),_:1},8,["style"])):(0,i.kq)("",!0),(0,i.Wm)(_,{onClick:t[8]||(t[8]=(0,a.iM)((e=>p.view("favs")),["stop"])),flat:"",round:"",color:"secondary",icon:"favorite",style:(0,l.j5)("favs"==u.activeLevel?"background:#444;":"")},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.favs.length),1)])),_:1},8,["style"]),(0,i.Wm)(C,{"show-value":"","font-size":"12px",value:p.progressPercent,size:"60px","track-color":"grey-3",thickness:.22,color:"positive",class:"q-ma-md"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(p.progressLabel),1)])),_:1},8,["value","thickness"])])),_:1})])),_:1},8,["style"])])),_:1})}s(71);var u=s(52),p=s.n(u),m=s(3617),f=s(8825),g=s(4434);const w={middleware:["auth"],name:"Practice",methods:{mcqAnswered(e){this.mcqResults[e.definition_id]=e,Object.values(this.mcqResults).length==this.currentDefinitions.length&&this.mcqFinished()},mcqFinished(){let e={score:this.progress,data:Object.values(this.mcqResults),chapter_id:this.form.chapter.value,topic_id:this.form.topic.value};this.$store.dispatch(`${this.model}/saveMcqResults`,e),g.Z.create({position:"top",message:"Finished!",caption:`You have finished it with ${this.progressLabel}`,icon:"check",color:"secondary",textColor:"primary"})},changeFontSize(e){this.fontSize+="++"==e?5:-5},reset(){this.$store.commit("definitions/definitions",{definitions:[]}),this.mcqSelectedAnswers={},this.mcqResults={},this.currentPage=1},reverse(){this.reversed=!this.reversed},goNext(){this.currentPage<this.maxPage&&this.currentPage++},async fetchTopics(){this.reset();const e=this.user.year_id;await this.$store.dispatch("topics/topics",{year_id:e})},async fetchTopicChapters({topic_id:e}){this.form.chapter="";const{data:t}=await p().get("admin/chapters",{params:{topic_id:e}});let s=t.data;s=s.map((function(e){return{label:e.title,value:e.id}})),this.chaptersOptions=s},async fetchChapterDefinitions({chapter_id:e}){this.activeLevel="all",await this.$store.dispatch(`${this.model}/${this.model}`,{chapter_id:e})},async fetchTopicsDefinitions({topic_id:e}){this.activeLevel="all",await this.$store.dispatch(`${this.model}/${this.model}`,{topic_id:e})},filterFnTopics(e,t,s){t((()=>{this.filteredTopics=this.topicsOptions.filter((t=>t.label.toLowerCase().indexOf(e.toLowerCase())>-1))}))},filterFnChapters(e,t,s){t((()=>{this.filteredChapters=this.chaptersOptions.filter((t=>t.label.toLowerCase().indexOf(e.toLowerCase())>-1)),this.filteredChapters.unshift({label:"All",value:null})}))},view(e){this[e].length&&(this.currentPage=1,this.activeLevel=e)}},async created(){await this.fetchTopics()},data(){return{mcqSelectedAnswers:{},mcqResults:{},activeLevel:"all",modes:["Flashcard","MCQ"],model:"definitions",currentPage:1,minPage:1,nextPage:null,perPage:1,fontSize:30,reversed:!1,chaptersOptions:[],filteredChapters:[],filteredTopics:[],form:{chapter:"",topic:"",mode:"Flashcard"}}},computed:{paginatedData(){return this.currentDefinitions.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)},all(){return this.definitions},correctMcqResults(){return Object.values(this.mcqResults).filter((e=>e.correct))},progress(){return"MCQ"==this.form.mode?this.all.length?this.correctMcqResults.length/this.all.length:0:"Flashcard"==this.form.mode?this.all.length?(this.easy.length+.5*this.med.length+.1*this.hard.length)/this.all.length:0:void 0},progressPercent(){return 100*this.progress},progressLabel(){return this.progressPercent.toFixed(1)+"%"},currentDefinitions(){return this[this.activeLevel]},maxPage(){return Math.ceil(this.currentDefinitions.length/this.perPage)},levels(){return[{title:"hard",color:"red",length:this.hard.length},{title:"med",color:"info",length:this.med.length},{title:"easy",color:"positive",length:this.easy.length},{title:"unanswered",color:"secondary",length:this.unanswered.length},{title:"all",color:"white",length:this.all.length}]},flashcard_container_style(){return{boxShadow:"none",borderRadius:"0",background:"rgba(0,0,0,0)",color:"white"}},...(0,m.Se)({user:"users/user",topicsOptions:"topics/topicsOptions",definitions:"definitions/definitions",easy:"definitions/easy",med:"definitions/med",hard:"definitions/hard",unanswered:"definitions/unanswered",favs:"definitions/favs"})},watch:{"form.topic":function(e,t){e&&e.value&&this.fetchTopicChapters({topic_id:e.value})},"form.chapter":function(e,t){this.reset(),e&&e.value?this.fetchChapterDefinitions({chapter_id:e.value}):null===e.value&&this.form.topic.value&&this.fetchTopicsDefinitions({topic_id:this.form.topic.value})}},components:{Flashcard:(0,i.RC)((()=>s.e(8938).then(s.bind(s,8938)))),MCQ:(0,i.RC)((()=>Promise.all([s.e(4736),s.e(2391)]).then(s.bind(s,2391))))},setup(){const e=(0,f.Z)();return{toggleFullscreen(t){const s=t.target.parentNode.parentNode.parentNode.parentNode.parentNode;e.fullscreen.toggle(s).then((()=>{})).catch((e=>{alert(e)}))}}}};var v=s(4260),b=s(4379),k=s(151),q=s(3314),_=s(3414),y=s(2035),C=s(9367),x=s(7300),F=s(8240),P=s(8870),W=s(6122),L=s(7518),M=s.n(L);const $=(0,v.Z)(w,[["render",h]]),S=$;M()(w,"components",{QPage:b.Z,QCard:k.Z,QSelect:q.Z,QItem:_.Z,QItemSection:y.Z,QCardActions:C.Z,QPagination:x.Z,QBtn:F.Z,QTooltip:P.Z,QCircularProgress:W.Z})}}]);