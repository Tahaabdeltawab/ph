"use strict";(self["webpackChunkstudent"]=self["webpackChunkstudent"]||[]).push([[5920],{5920:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Z});var o=i(3673);const s=(0,o.Uk)(" No results ");function a(e,t,i,a,l,r){const d=(0,o.up)("q-input"),n=(0,o.up)("q-item-section"),u=(0,o.up)("q-item"),m=(0,o.up)("q-select"),c=(0,o.up)("q-form"),p=(0,o.up)("q-separator"),f=(0,o.up)("q-btn"),h=(0,o.up)("q-card-actions"),w=(0,o.up)("q-card"),v=(0,o.up)("q-dialog"),y=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(v,{ref:"EditDialogRef",modelValue:i.show,"onUpdate:modelValue":t[4]||(t[4]=e=>i.show=e),onHide:r.dialogHid},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"my-card q-pa-lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onReset:r.onReset,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:l.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>l.form.title=e),label:"Title *",autofocus:""},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:l.form.code,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.code=e),label:"Code *"},null,8,["modelValue"]),(0,o.Wm)(m,{label:"University",modelValue:l.form.university,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.university=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:l.filtered,onFilter:r.filterFn},{"no-option":(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n,{class:"text-grey"},{default:(0,o.w5)((()=>[s])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])),_:1},8,["onReset"]),(0,o.Wm)(p),(0,o.Wm)(h,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{type:"submit",color:"primary",label:"Submit",onClick:t[3]||(t[3]=e=>"create"==i.formAction?r.create():r.update())}),(0,o.wy)((0,o.Wm)(f,{flat:"",color:"primary",label:"Cancel"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}i(52);var l=i(3617);i(4434);const r={props:["show","datum","formAction","model"],methods:{dialogHid(){this.$store.commit("config/dialogShow",{dialogShow:!1})},async create(){await this.$store.dispatch(`${this.model}/create`,{new:this.form})},async update(){await this.$store.dispatch(`${this.model}/update`,{id:this.datum.id,new:this.form})},async fetchUniversities(){await this.$store.dispatch("universities/universities")},onReset(){Object.keys(this.form).forEach((e=>{this.form[e]=""}))},fillForm(){Object.keys(this.form).forEach((e=>{this.form[e]=this.datum[e]})),this.form["university"]={label:this.datum["university"],value:this.datum["university_id"]}},filterFn(e,t,i){t((()=>{this.filtered=this.universitiesOptions.filter((t=>t.label.toLowerCase().indexOf(e.toLowerCase())>-1))}))}},async created(){await this.fetchUniversities()},updated(){this.show&&this.fillForm()},data(){return{filtered:[],form:{title:"",code:"",university:""}}},computed:{...(0,l.Se)({universitiesOptions:"universities/universitiesOptions"})}};var d=i(4260),n=i(6778),u=i(151),m=i(5269),c=i(4842),p=i(3314),f=i(3414),h=i(2035),w=i(5869),v=i(9367),y=i(8240),b=i(677),g=i(7518),q=i.n(g);const V=(0,d.Z)(r,[["render",a],["__scopeId","data-v-422cdc0e"]]),Z=V;q()(r,"components",{QDialog:n.Z,QCard:u.Z,QForm:m.Z,QInput:c.Z,QSelect:p.Z,QItem:f.Z,QItemSection:h.Z,QSeparator:w.Z,QCardActions:v.Z,QBtn:y.Z}),q()(r,"directives",{ClosePopup:b.Z})}}]);