"use strict";(self["webpackChunkstudent"]=self["webpackChunkstudent"]||[]).push([[1944],{1944:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Q});var a=o(3673);const l=(0,a.Uk)(" No results ");function i(e,t,o,i,s,u){const d=(0,a.up)("q-input"),r=(0,a.up)("q-item-section"),c=(0,a.up)("q-item"),m=(0,a.up)("q-select"),n=(0,a.up)("q-form"),f=(0,a.up)("q-separator"),p=(0,a.up)("q-btn"),h=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),y=(0,a.up)("q-dialog"),b=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(y,{ref:"EditDialogRef",modelValue:o.show,"onUpdate:modelValue":t[4]||(t[4]=e=>o.show=e),onHide:u.dialogHid},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"my-card q-pa-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{onReset:u.onReset,class:"q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{modelValue:s.form.title,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.title=e),label:"Title *",autofocus:""},null,8,["modelValue"]),(0,a.Wm)(d,{modelValue:s.form.code,"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.code=e),label:"Code *"},null,8,["modelValue"]),(0,a.Wm)(m,{label:"Faculty",modelValue:s.form.faculty,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.faculty=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:s.filtered,onFilter:u.filterFn},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"text-grey"},{default:(0,a.w5)((()=>[l])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter"])])),_:1},8,["onReset"]),(0,a.Wm)(f),(0,a.Wm)(h,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"submit",color:"primary",label:"Submit",onClick:t[3]||(t[3]=e=>"create"==o.formAction?u.create():u.update())}),(0,a.wy)((0,a.Wm)(p,{flat:"",color:"primary",label:"Cancel"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue","onHide"])}o(52);var s=o(3617);o(4434);const u={props:["show","datum","formAction","model"],methods:{dialogHid(){this.$store.commit("config/dialogShow",{dialogShow:!1})},async create(){await this.$store.dispatch(`${this.model}/create`,{new:this.form})},async update(){await this.$store.dispatch(`${this.model}/update`,{id:this.datum.id,new:this.form})},async fetchFaculties(){await this.$store.dispatch("faculties/faculties")},onReset(){Object.keys(this.form).forEach((e=>{this.form[e]=""}))},fillForm(){Object.keys(this.form).forEach((e=>{this.form[e]=this.datum[e]})),this.form["faculty"]={label:this.datum["faculty"],value:this.datum["faculty_id"]}},filterFn(e,t,o){t((()=>{this.filtered=this.facultiesOptions.filter((t=>t.label.toLowerCase().indexOf(e.toLowerCase())>-1))}))}},async created(){await this.fetchFaculties()},updated(){this.show&&this.fillForm()},data(){return{filtered:[],form:{title:"",code:"",faculty:""}}},computed:{...(0,s.Se)({facultiesOptions:"faculties/facultiesOptions"})}};var d=o(4260),r=o(6778),c=o(151),m=o(5269),n=o(4842),f=o(3314),p=o(3414),h=o(2035),w=o(5869),y=o(9367),b=o(8240),g=o(677),q=o(7518),V=o.n(q);const Z=(0,d.Z)(u,[["render",i],["__scopeId","data-v-04d68f2c"]]),Q=Z;V()(u,"components",{QDialog:r.Z,QCard:c.Z,QForm:m.Z,QInput:n.Z,QSelect:f.Z,QItem:p.Z,QItemSection:h.Z,QSeparator:w.Z,QCardActions:y.Z,QBtn:b.Z}),V()(u,"directives",{ClosePopup:g.Z})}}]);